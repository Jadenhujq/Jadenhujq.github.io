<!DOCTYPE html><html lang="zh-CN"><head><meta name="x-poe-datastore-behavior" content="local_only"><meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://code.jquery.com https://unpkg.com https://d3js.org https://threejs.org https://cdn.plot.ly https://stackpath.bootstrapcdn.com https://maps.googleapis.com https://cdn.tailwindcss.com https://ajax.googleapis.com https://kit.fontawesome.com https://cdn.datatables.net https://maxcdn.bootstrapcdn.com https://code.highcharts.com https://tako-static-assets-production.s3.amazonaws.com https://www.youtube.com https://fonts.googleapis.com https://fonts.gstatic.com https://pfst.cf2.poecdn.net https://puc.poecdn.net https://i.imgur.com https://wikimedia.org https://*.icons8.com https://*.giphy.com https://picsum.photos https://images.unsplash.com; frame-src 'self' https://www.youtube.com https://trytako.com; child-src 'self'; manifest-src 'self'; worker-src 'self'; upgrade-insecure-requests; block-all-mixed-content;">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å®¤å‹å†²çªé£é™©æ£€æµ‹é—®å·(Conflict Risk Scale)</title>

<style>
  body {
    font-family: "Segoe UI", "PingFang SC", sans-serif;
    background: #f5f8fa;
    margin: 0;
    padding: 0;
  }

  .container {
    max-width: 800px;
    margin: 40px auto;
    background: #fff;
    padding: 35px 45px;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  }

  h1 {
    text-align: center;
    color: #222;
    margin-bottom: 10px;
  }

  .page-desc {
    text-align: center;
    color: #555;
    margin-bottom: 25px;
  }

  .question {
    margin: 15px 0;
    padding-bottom: 10px;
    border-bottom: 1px solid #eee;
  }

  label {
    display: inline-block;
    margin-right: 10px;
  }

  .btn {
    display: block;
    margin: 25px auto;
    padding: 12px 24px;
    background-color: #0077cc;
    color: white;
    font-size: 16px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
  }

  .btn:hover { background-color: #005fa3; }

  .result {
    text-align: center;
    margin-top: 25px;
    padding: 20px;
    border-top: 2px solid #0077cc;
  }

  .grade {
    font-size: 26px;
    font-weight: bold;
    margin-top: 10px;
  }

  .desc {
    font-size: 15px;
    color: #444;
    margin-top: 10px;
  }

  table {
    width: 100%;
    margin-top: 15px;
    border-collapse: collapse;
  }

  th, td {
    text-align: center;
    padding: 8px;
    border-bottom: 1px solid #eee;
  }

  th {
    background: #f2f6fa;
  }

  @media (max-width:600px){
    .container{
      padding: 20px;
    }
    label {display:block;margin-top:5px;}
  }

</style>
<script src="https://puc.poecdn.net/authenticated_preview_page/syncedState.3f7572448765332f3047.js"></script></head>

<body>
  <div class="container">
    <h1>å®¤å‹å†²çªé£é™©æ£€æµ‹é—®å·ï¼ˆCRSï¼‰</h1>
    <p class="page-desc">è¯·æ ¹æ®æœ€è¿‘ä¸¤å‘¨å®¿èˆæƒ…å†µé€‰æ‹©æœ€ç¬¦åˆçš„é€‰é¡¹ï¼ˆ1=éå¸¸ä¸åŒæ„ï¼Œ5=éå¸¸åŒæ„ï¼‰ã€‚</p>

    <form id="surveyForm">
      <div id="questions"></div>
      <button type="button" class="btn" onclick="calculateScore()">æäº¤å¹¶æŸ¥çœ‹ç»“æœ</button>
    </form>

    <div id="result" class="result"></div>
  </div>

<script>
  // ===== ä¸»ä½“é¢˜ç›® =====
  const questions = [
    "æˆ‘èƒ½å¦ç‡åœ°å’Œå®¤å‹è¡¨è¾¾è‡ªå·±çš„ä¸æ»¡å’Œå»ºè®®ã€‚",
    "å½“æˆ‘æå‡ºé—®é¢˜æ—¶ï¼Œå®¤å‹èƒ½è®¤çœŸå¬å®Œå¹¶ä¸”æ‰§è¡Œå»ºè®®ã€‚",
    "å®¿èˆä¸­è°è´Ÿè´£ä»€ä¹ˆäº‹æƒ…æ˜¯æ˜ç¡®çš„ã€‚",
    "æˆ‘ä»¬æœ‰å…±åŒå¤§å®¶è®¤å¯çš„â€œå®¿èˆç›¸å¤„è§„åˆ™â€ã€‚",
    "æœ‰äººè¿åè§„åˆ™æ—¶ï¼Œèƒ½è¿…é€Ÿã€å¹³é™åœ°æ²Ÿé€šè§£å†³ã€‚",
    "æœ€è¿‘å®¿èˆæ°”æ°›æ€»ä½“è½»æ¾æ„‰å¿«ã€‚",
    "æˆ‘ä¸å®¤å‹æ—¥å¸¸ç›¸å¤„æ—¶æ„Ÿåˆ°å°Šé‡ä¸è¢«ç†è§£ã€‚",
    "æœ‰æ—¶æˆ‘ä¼šåˆ»æ„é¿å…å’Œå®¤å‹å¯¹è¯ã€‚",    // åå‘
    "æˆ‘å’Œå®¤å‹ä¹‹é—´è¿‘æœŸæœ‰å°æ‘©æ“¦ä½†èƒ½å¦¥å–„è§£å†³ã€‚",
    "æˆ‘è®¤ä¸ºå®¿èˆå†…å­˜åœ¨ä¸€äº›â€œæ‚¬è€Œæœªå†³â€çš„é—®é¢˜ã€‚", // åå‘
    "å®¿èˆå†…æœ‰äººå®¹æ˜“æƒ…ç»ªçˆ†å‘æˆ–å†·æš´åŠ›ã€‚",      // åå‘
    "æˆ‘ä»¬èƒ½ç”¨ç†æ€§çš„æ–¹å¼è§£å†³åˆ†æ­§ã€‚",
    "æˆ‘è®¤ä¸ºå¤§å®¶ä¿¡ä»»å½¼æ­¤ã€‚",
    "å®¿èˆæ°›å›´æ„‰å¿«ä¸”è‡ªç„¶ã€‚",
    "æœ€è¿‘ä¸€å‘¨æˆ‘æ„Ÿåˆ°å› å®¿èˆå…³ç³»è€Œç„¦è™‘æˆ–çƒ¦èºã€‚", // åå‘
    "è‹¥æœ‰æ–°çš„çŸ›ç›¾å‡ºç°ï¼Œæˆ‘ä»¬æœ‰ä¿¡å¿ƒåº”å¯¹ã€‚"
  ];

  const reverseQuestions = [8, 10, 11, 15]; // åå‘é¢˜ç¼–å·(ä»1å¼€å§‹)
  const dimensions = {
    "æ²Ÿé€š": [1, 2, 12],
    "è§„åˆ™": [3, 4, 5],
    "æ°›å›´": [6, 7, 13, 14, 16],
    "ç§¯å‹": [8, 9, 10, 11, 15]
  };

  const container = document.getElementById("questions");

  // åŠ¨æ€æ¸²æŸ“é¢˜ç›®
  questions.forEach((q, i) => {
    const div = document.createElement("div");
    div.className = "question";
    div.innerHTML = `<strong>${i+1}. ${q}</strong><br>`;
    for(let j=1; j<=5; j++){
      div.innerHTML += `<label><input type="radio" name="q${i+1}" value="${j}" required> ${j}</label>`;
    }
    container.appendChild(div);
  });

  function calculateScore(){
    let total=0;
    const scores = [];

    // æ”¶é›†åˆ†æ•°
    for(let i=0;i<questions.length;i++){
      const selected = document.querySelector(`input[name="q${i+1}"]:checked`);
      if(!selected){
        alert(`è¯·å®Œæˆç¬¬ ${i+1} é¢˜`);
        return;
      }
      let value = parseInt(selected.value);
      if(reverseQuestions.includes(i+1)) value = 6 - value;
      scores.push(value);
      total += value;
    }

    // ç»´åº¦å¹³å‡åˆ†
    const dimScores = {};
    for(const [dim, items] of Object.entries(dimensions)){
      const avg = items.map(i => scores[i-1]).reduce((a,b)=>a+b,0)/items.length;
      dimScores[dim] = avg;
    }

    const percentage = (total / 80) * 100;
    let grade = "", desc = "", point = 0;

    if (percentage >= 90) { grade="A"; point=4.0; desc="Outstanding performance on all learning outcomes."; }
    else if (percentage >= 70){ grade="A-"; point=3.7; desc="Generally outstanding performance on almost all learning outcomes."; }
    else if (percentage >= 50){ grade="B+"; point=3.3; desc="Substantial performance on almost all learning outcomes with only a few less substantial performance."; }
    else if (percentage >= 30){ grade="B"; point=3.0; desc="Substantial performance on most learning outcomes."; }
    else if (percentage >= 10){ grade="B-"; point=2.7; desc="Substantial performance on nearly most of the learning outcomes."; }
    else { grade="C+"; point=2.3; desc="Satisfactory performance on majority of the learning outcomes."; }

    // ç»¼åˆå¿ƒç†å»ºè®®
    const avgTotal = total / 16;
    let suggestion = "";
    if(avgTotal >= 4.3){
      suggestion = "ğŸŒ¿ å®¿èˆå…³ç³»éå¸¸ç¨³å®šï¼Œå¯ä¿æŒå½“å‰çš„æ²Ÿé€šæ¨¡å¼ä¸ç§¯ææ°›å›´ã€‚";
    } else if(avgTotal >= 3.7){
      suggestion = "ğŸŒ¤ å­˜åœ¨è½»å¾®æ‘©æ“¦ï¼Œå»ºè®®å¼€å±•å®¿èˆè§„åˆ™å›é¡¾æˆ–æƒ…æ„Ÿåˆ†äº«ä¼šã€‚";
    } else if(avgTotal >= 3.0){
      suggestion = "ğŸŒ§ å…³ç³»æœ‰ä¸€å®šç´§å¼ ï¼Œå»ºè®®ç»„ç»‡ä¸€æ¬¡å®¿èˆæ²Ÿé€šä¼šï¼Œå…³æ³¨é—®é¢˜æœ¬èº«ï¼Œå‡å°‘æŒ‡è´£æƒ…ç»ªã€‚";
    } else {
      suggestion = "âš¡ é£é™©è¾ƒé«˜ï¼Œå»ºè®®è¾…å¯¼å‘˜æˆ–å¿ƒç†å§”å‘˜ä»‹å…¥ï¼Œåˆ¶å®šå…·ä½“æ”¹å–„æ–¹æ¡ˆã€‚";
    }

    // æ„å»ºç»“æœè¡¨æ ¼
    let dimTable = `
      <table>
        <tr><th>ç»´åº¦</th><th>å¹³å‡åˆ†</th><th>é£é™©æç¤º</th></tr>`;
    for(const [dim, avg] of Object.entries(dimScores)){
      let risk = avg>=4.3?"ç¨³å®š":avg>=3.7?"è½»åº¦é£é™©":avg>=3.0?"ä¸­åº¦é£é™©":"é«˜é£é™©";
      dimTable += `<tr><td>${dim}</td><td>${avg.toFixed(2)}</td><td>${risk}</td></tr>`;
    }
    dimTable += "</table>";

    // ç»“æœè¾“å‡º
    document.getElementById("result").innerHTML = `
      <div>æ€»åˆ†ï¼š<b>${total}</b> / 80ã€€ã€€ç™¾åˆ†æ¯”ï¼š${percentage.toFixed(1)}%</div>
      <div class="grade">${grade}ï¼ˆå¹³å‡ç»©ç‚¹ ${point.toFixed(1)}ï¼‰</div>
      <div class="desc">${desc}</div>
      ${dimTable}
      <div class="desc" style="margin-top:15px;"><b>å¿ƒç†å»ºè®®ï¼š</b><br>${suggestion}</div>
    `;

    // æ»šåŠ¨åˆ°ç»“æœä½ç½®
    if(document.body.scrollHeight > window.innerHeight){
      window.scrollTo({top: document.body.scrollHeight, behavior: "smooth"});
    }
  }
</script>



</body></html>
